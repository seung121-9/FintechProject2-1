<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.member">
	<resultMap type="memberDTO" id="memResult">
		<result property="id" column="id"></result>
		<result property="pwd" column="pwd"></result>
		<result property="name" column="name"></result>
		<result property="birth" column="birth"></result>
		<result property="gender" column="gender"></result>
		<result property="phonenumber" column="phonenumber"></result>
		<result property="regdate" column="regdate"></result>
		<result property="moddate" column="moddate"></result>
		<result property="email" column="email"></result>
	</resultMap>

	<resultMap type="payDTO" id="payResult">
		<result property="reservation_id" column="reservation_id"></result>
		<result property="id" column="id"></result>
		<result property="accommodation_id" column="accommodation_id"></result>
		<result property="checkin_date" column="checkin_date"></result>
		<result property="checkout_date" column="checkout_date"></result>
		<result property="phonenumber" column="phonenumber"></result>
		<result property="guest_count" column="guest_count"></result>
		<result property="total_price" column="total_price"></result>
	</resultMap>
	
	

	<select id="selectAllMemberList" resultMap="memResult">
		select * from member order by id desc
	</select>
	<select id="login" parameterType="memberDTO" resultMap="memResult">
		select * from member where id=#{id} and pwd=#{pwd}
	</select>
	
	<insert id="join">
      INSERT INTO member (id, pwd, email, birth, gender, phonenumber, name,regdate)
        VALUES (#{id}, #{pwd}, #{email}, #{birth}, #{gender}, #{phonenumber}, #{name},sysdate)
   </insert>
   <select id="countMemberById" parameterType="string" resultType="int">
        SELECT COUNT(*) FROM member WHERE id = #{id}
    </select>
    
    <insert id="addAccommodation" parameterType="com.test.Urban_Village.accommodation.dto.AccommodationDTO">
    INSERT INTO accommodation 
    (admin_id, accommodation_name, accommodation_photo, cleaner_admin_id, capacity, room_count, bathroom_count, bed_count) 
    VALUES 
    (#{adminId, jdbcType=VARCHAR}, #{accommodationName, jdbcType=VARCHAR}, #{accommodationPhoto, jdbcType=VARCHAR}, #{cleanerAdminId, jdbcType=VARCHAR}, #{capacity, jdbcType=INTEGER}, #{roomCount, jdbcType=INTEGER}, #{bathroomCount, jdbcType=INTEGER}, #{bedCount, jdbcType=INTEGER})
</insert>

</mapper> 